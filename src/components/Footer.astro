---
import { marked } from 'marked';
import { Image } from 'astro:assets';

import { footer, socials } from '../content/globals';

const parsedContent = await marked(footer.content);
const parsedLegal = await marked(footer.legal);
---

<footer>
  <div class="container">
    <div class="top">
      <div class="content" set:html={parsedContent} />
    </div>
    <div class="bottom">
      <div class="socials">
        <ul>
          <!-- TODO: dynamic list in backend -->
          <li>
            <a
              href={socials.linkFacebook}
              target="_blank"
              aria-label="Facebook"
            >
              <svg viewBox="0 0 48 48" fill="none">
                <path
                  d="M43.4999 24C43.4938 28.7658 41.7452 33.365 38.5835 36.9312C35.4217 40.4973 31.0651 42.7842 26.3343 43.3612C26.229 43.3731 26.1223 43.3626 26.0213 43.3303C25.9203 43.298 25.8274 43.2446 25.7485 43.1737C25.6697 43.1029 25.6068 43.0161 25.5639 42.9191C25.5211 42.8222 25.4992 42.7172 25.4999 42.6112V28.5H29.9999C30.2055 28.5004 30.4091 28.4586 30.5979 28.3771C30.7866 28.2955 30.9566 28.1761 31.0973 28.0261C31.238 27.8761 31.3463 27.6988 31.4156 27.5052C31.4848 27.3115 31.5135 27.1058 31.4999 26.9006C31.4668 26.5149 31.2888 26.156 31.0019 25.8961C30.7149 25.6363 30.3401 25.4947 29.953 25.5H25.4999V21C25.4999 20.2043 25.816 19.4412 26.3786 18.8786C26.9412 18.316 27.7043 18 28.4999 18H31.4999C31.7055 18.0004 31.9091 17.9586 32.0979 17.8771C32.2866 17.7955 32.4566 17.6761 32.5973 17.5261C32.738 17.3761 32.8463 17.1988 32.9156 17.0052C32.9848 16.8115 33.0135 16.6058 32.9999 16.4006C32.9667 16.0142 32.7883 15.6548 32.5005 15.3948C32.2127 15.1349 31.837 14.9938 31.4493 15H28.4999C26.9086 15 25.3825 15.6321 24.2573 16.7573C23.1321 17.8825 22.4999 19.4087 22.4999 21V25.5H17.9999C17.7943 25.4995 17.5908 25.5413 17.402 25.6229C17.2132 25.7044 17.0432 25.8238 16.9025 25.9738C16.7618 26.1238 16.6535 26.3011 16.5843 26.4947C16.515 26.6884 16.4863 26.8941 16.4999 27.0993C16.5331 27.4857 16.7116 27.8451 16.9994 28.1051C17.2871 28.365 17.6628 28.5061 18.0505 28.5H22.4999V42.615C22.5006 42.7208 22.4788 42.8256 22.4361 42.9224C22.3933 43.0192 22.3306 43.1059 22.2519 43.1767C22.1733 43.2476 22.0806 43.301 21.9798 43.3334C21.8791 43.3658 21.7726 43.3766 21.6674 43.365C16.81 42.7734 12.3516 40.3798 9.1748 36.6578C5.99801 32.9359 4.33432 28.1569 4.51304 23.2668C4.88804 13.1418 13.0893 4.91058 23.2218 4.51683C25.8451 4.41521 28.4619 4.84374 30.9158 5.77676C33.3697 6.70979 35.6101 8.12815 37.5032 9.94701C39.3963 11.7659 40.9031 13.9479 41.9334 16.3625C42.9638 18.7771 43.4966 21.3747 43.4999 24Z"
                  fill="#FAFAFA"></path>
              </svg>
            </a>
          </li>
          <li>
            <a
              href={socials.linkInstagram}
              target="_blank"
              aria-label="Instagram"
            >
              <svg viewBox="0 0 48 48" fill="none">
                <path
                  d="M33 4.5H15C12.2161 4.50298 9.54715 5.61018 7.57867 7.57867C5.61018 9.54715 4.50298 12.2161 4.5 15V33C4.50298 35.7839 5.61018 38.4528 7.57867 40.4213C9.54715 42.3898 12.2161 43.497 15 43.5H33C35.7839 43.497 38.4528 42.3898 40.4213 40.4213C42.3898 38.4528 43.497 35.7839 43.5 33V15C43.497 12.2161 42.3898 9.54715 40.4213 7.57867C38.4528 5.61018 35.7839 4.50298 33 4.5ZM24 33C22.22 33 20.4799 32.4722 18.9999 31.4832C17.5198 30.4943 16.3663 29.0887 15.6851 27.4442C15.0039 25.7996 14.8257 23.99 15.1729 22.2442C15.5202 20.4984 16.3774 18.8947 17.636 17.636C18.8947 16.3774 20.4984 15.5202 22.2442 15.1729C23.99 14.8257 25.7996 15.0039 27.4442 15.6851C29.0887 16.3663 30.4943 17.5198 31.4832 18.9999C32.4722 20.4799 33 22.22 33 24C32.9975 26.3862 32.0485 28.6739 30.3612 30.3612C28.6739 32.0485 26.3862 32.9975 24 33ZM35.25 15C34.805 15 34.37 14.868 34 14.6208C33.63 14.3736 33.3416 14.0222 33.1713 13.611C33.001 13.1999 32.9564 12.7475 33.0432 12.311C33.13 11.8746 33.3443 11.4737 33.659 11.159C33.9737 10.8443 34.3746 10.63 34.811 10.5432C35.2475 10.4564 35.6999 10.501 36.111 10.6713C36.5222 10.8416 36.8736 11.13 37.1208 11.5C37.368 11.87 37.5 12.305 37.5 12.75C37.5 13.3467 37.2629 13.919 36.841 14.341C36.419 14.7629 35.8467 15 35.25 15ZM30 24C30 25.1867 29.6481 26.3467 28.9888 27.3334C28.3295 28.3201 27.3925 29.0892 26.2961 29.5433C25.1997 29.9974 23.9933 30.1162 22.8295 29.8847C21.6656 29.6532 20.5965 29.0818 19.7574 28.2426C18.9182 27.4035 18.3468 26.3344 18.1153 25.1705C17.8838 24.0067 18.0026 22.8003 18.4567 21.7039C18.9108 20.6075 19.6799 19.6705 20.6666 19.0112C21.6533 18.3519 22.8133 18 24 18C25.5913 18 27.1174 18.6321 28.2426 19.7574C29.3679 20.8826 30 22.4087 30 24Z"
                  fill="#FAFAFA"></path>
              </svg>
            </a>
          </li>
        </ul>
      </div>
      <div class="legal" set:html={parsedLegal} />
      <a href="/" class="logo" aria-label="Zur Startseite">
        <!-- TODO: alt text in cms -->
        <Image src={footer.logo} alt="" />
      </a>
    </div>
  </div>
</footer>

<style lang="scss">
  footer {
    margin-top: clamp-fluid(120, 180);
    margin-bottom: to-rem(60);
    font-size: var(--fs-small);
    text-align: center;
  }

  .top {
    display: flex;
    justify-content: center;
  }

  .bottom {
    margin-top: clamp-fluid(40, 100);
    display: grid;
    row-gap: to-rem(32);
    grid-template-areas:
      'socials'
      'logo'
      'legal';
  }

  .logo {
    grid-area: logo;
    max-width: to-rem(150);
    margin-inline: auto;
  }

  .legal {
    grid-area: legal;
  }

  .socials {
    grid-area: socials;

    ul {
      display: flex;
      gap: to-rem(32);
      justify-content: center;
      list-style: none;
    }

    svg {
      width: clamp-fluid(40, 48);
      height: clamp-fluid(40, 48);
    }
  }

  @media (min-width: 768px) {
    .bottom {
      grid-template-areas: 'logo legal socials';
      align-items: center;
    }
  }
</style>
